<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
    <script src="node_modules/xterm/lib/xterm.js"></script>
    <script src="lib/xterm-addon-attach.min.js"></script>

</head>

<body>

    <div class="box">
        <h2>login</h2>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username">
            <input type="password" id="password" placeholder="Password">
            <button type="submit">Login</button>
        </form>
    </div>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function (event) {
            event.preventDefault(); // 阻止表单提交的默认行为

            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            // 使用 Fetch API 发送登录请求到后端接口
            fetch("http://127.0.0.1:8081/login", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ username: username, password: password })
            })
                .then(function (response) {
                    console.log(response)
                    if (!response.ok) {
                        throw new Error("登录失败");
                    }
                    return response.text();
                })
                .then(function (data) {
                    // 处理登录成功后的逻辑
                    console.log(data);
                    window.location.href = "status.html"
                    // 重定向到其他页面或执行其他操作
                })
                .catch(function (error) {
                    // 处理登录失败后的逻辑
                    console.error(error);
                });
        });
    </script>


</body>

</html>